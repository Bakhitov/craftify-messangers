# üß™ –†–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã API —Å–æ–æ–±—â–µ–Ω–∏–π

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –°—Ç–∞—Ç—É—Å WhatsApp —Å–µ—Ä–≤–µ—Ä–∞:
```bash
curl -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  "http://13.61.141.6:6609/api/v1/status"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "provider": "whatsapp",
  "status": "connected", 
  "info": {
    "pushname": "–†–∞–±–æ—á–∏–π",
    "wid": {"server": "c.us", "user": "77066318623", "_serialized": "77066318623@c.us"},
    "me": {"server": "c.us", "user": "77066318623", "_serialized": "77066318623@c.us"},
    "platform": "smbi"
  },
  "state": "READY"
}
```
‚úÖ **–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!**

---

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{"number": "77475318623", "message": "–¢–µ—Å—Ç", "mediaType": "text"}'
```

**–û—à–∏–±–∫–∞:**
```json
{"error":"Failed to send message","details":"WhatsApp sendMessage returned invalid result structure"}
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 2: –ú–µ–¥–∏–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{"number": "77475318623", "source": "https://picsum.photos/400/300", "caption": "–¢–µ—Å—Ç"}'
```

**–û—à–∏–±–∫–∞:**
```json
{"error":"Failed to send message","details":"Failed to send media message: Cannot read properties of undefined (reading 'id')"}
```

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º

### 1. **WhatsApp –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω**
- –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç READY, –Ω–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –≥–æ—Ç–æ–≤—ã
- –ù—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–æ–º–µ—Ä–æ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è**
- –ù–æ–º–µ—Ä `77475318623` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ WhatsApp
- –ò–ª–∏ –Ω–æ–º–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω/–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤**
- –ö–æ–¥ –æ–∂–∏–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –æ—Ç WhatsApp
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

---

## üõ†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è**
```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π)
curl -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{"number": "77066318623", "message": "–¢–µ—Å—Ç –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä", "mediaType": "text"}'
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**
```bash
curl -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  "http://13.61.141.6:6609/api/v1/contacts"
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Ç–æ–≤**
```bash
curl -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  "http://13.61.141.6:6609/api/v1/chats"
```

---

## üìù –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
```bash
curl -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{
    "number": "77475318623",
    "message": "–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.",
    "mediaType": "text"
  }'
```

### ‚úÖ –ú–µ–¥–∏–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):
```bash
curl -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{
    "number": "77475318623",
    "source": "https://picsum.photos/400/300",
    "caption": "–¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
    "mediaType": "image"
  }'
```

---

## ü§ñ Telegram —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```bash
export TELEGRAM_URL="http://YOUR_SERVER:PORT/api/v1/telegram"
export TELEGRAM_TOKEN="YOUR_BOT_TOKEN"
```

### –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```bash
curl -X POST "$TELEGRAM_URL/send" \
  -H "Authorization: Bearer $TELEGRAM_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "chatId": "134527512",
    "message": "–ü—Ä–∏–≤–µ—Ç –∏–∑ Telegram API!"
  }'
```

### –ú–µ–¥–∏–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```bash
curl -X POST "$TELEGRAM_URL/send-media" \
  -H "Authorization: Bearer $TELEGRAM_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "chatId": "134527512", 
    "source": "https://picsum.photos/400/300",
    "caption": "–¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
  }'
```

---

## üìã –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### WhatsApp API (http://13.61.141.6:6609):
- ‚úÖ **–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω**
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** 
- ‚úÖ **–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω (READY)**
- ‚ùå **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** (–ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–æ–º)

### Telegram API:
- ‚ùì **–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (URL –∏ —Ç–æ–∫–µ–Ω)
- ‚ùì **–ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω**

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ WhatsApp**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–æ–º–µ—Ä–µ**
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram API**
4. **–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É**

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞:
```bash
curl "http://13.61.141.6:6609/api/v1/health"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:
```bash
curl -v -X POST "http://13.61.141.6:6609/api/v1/send" \
  -H "Authorization: Bearer 60e48460-8954-4dd2-a477-5d6e6bf142c0" \
  -H "Content-Type: application/json" \
  -d '{"number": "77475318623", "message": "–¢–µ—Å—Ç"}'
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω):
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
tail -f /path/to/logs/app.log
``` 